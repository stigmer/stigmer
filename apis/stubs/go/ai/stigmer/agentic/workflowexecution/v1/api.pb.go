// Code generated by protoc-gen-go. DO NOT EDIT.
// versions:
// 	protoc-gen-go v1.36.6
// 	protoc        (unknown)
// source: ai/stigmer/agentic/workflowexecution/v1/api.proto

// Package ai.stigmer.agentic.workflowexecution.v1 contains the API definition for WorkflowExecution.
//
// WorkflowExecution is the "Execution" layer in the Template→Instance→Execution pattern.
// It represents a single runtime invocation of a WorkflowInstance, capturing the complete
// execution lifecycle from trigger to completion.
//
// This package belongs to the "agentic" bounded context, which encompasses all AI agent
// systems and workflow orchestration capabilities.

package workflowexecutionv1

import (
	_ "buf.build/gen/go/bufbuild/protovalidate/protocolbuffers/go/buf/validate"
	apiresource "github.com/stigmer/stigmer/apis/stubs/go/ai/stigmer/commons/apiresource"
	protoreflect "google.golang.org/protobuf/reflect/protoreflect"
	protoimpl "google.golang.org/protobuf/runtime/protoimpl"
	structpb "google.golang.org/protobuf/types/known/structpb"
	reflect "reflect"
	sync "sync"
	unsafe "unsafe"
)

const (
	// Verify that this generated code is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(20 - protoimpl.MinVersion)
	// Verify that runtime/protoimpl is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(protoimpl.MaxVersion - 20)
)

// WorkflowExecution represents a single runtime invocation of a WorkflowInstance.
//
// WorkflowExecution is the "Execution" layer in the Template→Instance→Execution pattern.
// It captures the complete lifecycle of a workflow run, from initial trigger through
// task-by-task execution to final completion or failure.
//
// A WorkflowExecution:
// - References a WorkflowInstance (which contains configuration and environment bindings)
// - Is triggered by a user action, API call, webhook, or scheduled event
// - Executes tasks sequentially or in parallel based on the workflow definition
// - Tracks real-time progress through tasks and phases
// - Captures outputs, errors, and execution metadata
// - Is ephemeral - deleted after completion based on retention policies
//
// Execution Pattern:
// Workflow "customer-onboarding" (template)
//
//	→ WorkflowInstance "acme-onboarding" (with prod-env)
//	  → WorkflowExecution "acme-onboarding-20250111-143022" (specific run)
//	    - Phase: IN_PROGRESS
//	    - Tasks: [validate_email: COMPLETED, create_account: IN_PROGRESS, send_welcome: PENDING]
//	    - Progress: 1/3 tasks completed
//
// Use Cases:
// - Track workflow execution progress in real-time
// - Debug failed workflows with full execution history
// - Audit workflow runs for compliance and analysis
// - Monitor workflow performance and duration
// - Retry failed executions with same inputs
//
// Separation of Concerns:
// - User Inputs (spec): workflow_instance_id, trigger_message, trigger_metadata, runtime_env
// - System State (status): phase, tasks, output, timestamps, errors
//
// This separation ensures:
// - Clear boundary between what users control (spec) and what the system manages (status)
// - Status can be updated independently during execution without modifying user inputs
// - Execution can be retried by creating a new WorkflowExecution with the same spec
type WorkflowExecution struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// API version for this resource type.
	// Format: 'agentic.stigmer.ai/v1'
	// Validated as const to ensure version consistency across all workflow execution resources.
	ApiVersion string `protobuf:"bytes,1,opt,name=api_version,json=apiVersion,proto3" json:"api_version,omitempty"`
	// Resource kind identifier.
	// Must be exactly 'WorkflowExecution' to match the message name.
	// Validated as const for type safety and resource identification.
	Kind string `protobuf:"bytes,2,opt,name=kind,proto3" json:"kind,omitempty"`
	// Standard resource metadata including name, id, slug, labels, tags, and annotations.
	//
	// Owner Scope Restrictions:
	// WorkflowExecution resources can only have organization or identity_account scope (not platform).
	// This restriction ensures executions belong to a specific organization or user account.
	//
	// Validation:
	// - owner_scope == 2 (ORGANIZATION) - Execution owned by an organization
	// - owner_scope == 3 (IDENTITY_ACCOUNT) - Execution owned by a user account
	//
	// Why This Restriction?
	// - Executions are tenant-specific runtime instances, not platform-level templates
	// - Each execution consumes resources and should be attributed to a billable entity
	// - Access control is enforced at the organization or user level
	//
	// Naming Pattern:
	// - ID Format: "wfx-abc123xyz456" (auto-generated, unique)
	// - Name Format: "{workflow_instance_name}-{timestamp}" (e.g., "prod-deploy-20250111-143022")
	// - Slug Format: Same as name, URL-safe
	//
	// Labels and Tags:
	// - Labels: workflow_instance_id, workflow_id, trigger_source
	// - Tags: environment names, team names, execution metadata
	Metadata *apiresource.ApiResourceMetadata `protobuf:"bytes,3,opt,name=metadata,proto3" json:"metadata,omitempty"`
	// User-provided inputs and configuration for this workflow execution.
	//
	// Contains:
	// - workflow_instance_id: Which WorkflowInstance to execute (required)
	// - trigger_message: Input message or payload for the workflow (optional)
	// - trigger_metadata: Metadata about who/what triggered the execution (optional)
	// - runtime_env: Execution-specific environment variables and secrets (optional)
	//
	// The spec is immutable after creation - it represents the "inputs" for this execution.
	// To retry with different inputs, create a new WorkflowExecution with updated spec.
	//
	// Example:
	//
	//	spec {
	//	  workflow_instance_id: "wfi-customer-onboarding-prod"
	//	  trigger_message: "New customer: customer-email@example.com"
	//	  trigger_metadata: {
	//	    "source": "api"
	//	    "caller_id": "usr-john-doe"
	//	    "timestamp": "2025-01-11T14:30:22Z"
	//	  }
	//	  runtime_env: {
	//	    "CUSTOMER_EMAIL": { value: "customer-email@example.com" }
	//	    "WEBHOOK_URL": { secret_ref: "sec-webhook-callback" }
	//	  }
	//	}
	Spec *WorkflowExecutionSpec `protobuf:"bytes,4,opt,name=spec,proto3" json:"spec,omitempty"`
	// System-managed execution state and results.
	//
	// Contains:
	// - phase: Current lifecycle phase (PENDING → IN_PROGRESS → COMPLETED/FAILED/CANCELLED)
	// - tasks: List of workflow tasks with their execution state (source of truth for progress)
	// - output: Final workflow output (JSON structure, only for COMPLETED executions)
	// - error: Error message (only for FAILED executions)
	// - started_at: Timestamp when execution started
	// - completed_at: Timestamp when execution finished (COMPLETED/FAILED/CANCELLED)
	// - temporal_workflow_id: Correlation ID for Temporal workflow engine
	//
	// The status is continuously updated by the workflow execution engine as the workflow progresses.
	// Users can read status but cannot modify it - it reflects the actual execution state.
	//
	// Progress Tracking:
	// - Total tasks: tasks.length
	// - Completed tasks: count(tasks where status in [COMPLETED, FAILED, SKIPPED])
	// - Progress percentage: (completed_tasks / total_tasks) * 100
	//
	// Example (in-progress execution):
	//
	//	status {
	//	  phase: EXECUTION_IN_PROGRESS
	//	  tasks: [
	//	    { task_id: "task-1", task_name: "validate_email", status: WORKFLOW_TASK_COMPLETED }
	//	    { task_id: "task-2", task_name: "create_account", status: WORKFLOW_TASK_IN_PROGRESS }
	//	    { task_id: "task-3", task_name: "send_welcome", status: WORKFLOW_TASK_PENDING }
	//	  ]
	//	  started_at: "2025-01-11T14:30:22Z"
	//	}
	Status        *WorkflowExecutionStatus `protobuf:"bytes,5,opt,name=status,proto3" json:"status,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *WorkflowExecution) Reset() {
	*x = WorkflowExecution{}
	mi := &file_ai_stigmer_agentic_workflowexecution_v1_api_proto_msgTypes[0]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *WorkflowExecution) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*WorkflowExecution) ProtoMessage() {}

func (x *WorkflowExecution) ProtoReflect() protoreflect.Message {
	mi := &file_ai_stigmer_agentic_workflowexecution_v1_api_proto_msgTypes[0]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use WorkflowExecution.ProtoReflect.Descriptor instead.
func (*WorkflowExecution) Descriptor() ([]byte, []int) {
	return file_ai_stigmer_agentic_workflowexecution_v1_api_proto_rawDescGZIP(), []int{0}
}

func (x *WorkflowExecution) GetApiVersion() string {
	if x != nil {
		return x.ApiVersion
	}
	return ""
}

func (x *WorkflowExecution) GetKind() string {
	if x != nil {
		return x.Kind
	}
	return ""
}

func (x *WorkflowExecution) GetMetadata() *apiresource.ApiResourceMetadata {
	if x != nil {
		return x.Metadata
	}
	return nil
}

func (x *WorkflowExecution) GetSpec() *WorkflowExecutionSpec {
	if x != nil {
		return x.Spec
	}
	return nil
}

func (x *WorkflowExecution) GetStatus() *WorkflowExecutionStatus {
	if x != nil {
		return x.Status
	}
	return nil
}

// WorkflowExecutionStatus contains all system-managed execution state and results.
//
// Everything populated during or after execution goes here, not in spec.
// This message follows the standard pattern: audit information at field 99, custom fields at 1-98.
//
// Status Lifecycle:
// 1. Created: audit.created_at set, phase = EXECUTION_PENDING
// 2. Started: started_at set, phase = EXECUTION_IN_PROGRESS, tasks populated
// 3. Progress: tasks updated as workflow runner sends status updates
// 4. Completed: completed_at set, phase = EXECUTION_COMPLETED, output populated
// 5. Failed: completed_at set, phase = EXECUTION_FAILED, error populated
// 6. Cancelled: completed_at set, phase = EXECUTION_CANCELLED
//
// The status is read-only to users and continuously updated by the workflow execution engine.
//
// Progress Tracking Pattern (Matches Agent Execution):
// - Agent execution: messages[], tool_calls[], sub_agent_executions[] (transformed from LLM streaming events)
// - Workflow execution: tasks[] (transformed from workflow task execution)
// - Both store structured state, not raw streaming events
// - Both use updateStatus RPC for progressive updates during execution
type WorkflowExecutionStatus struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Standard audit information (created_at, updated_at, created_by, etc.)
	// Always at field 99 for consistency across all Stigmer API resources.
	//
	// Contains:
	// - created_at: When this execution was created (ISO 8601 timestamp)
	// - updated_at: Last time status was updated (ISO 8601 timestamp)
	// - created_by: User or system that created this execution
	//
	// Example:
	//
	//	audit {
	//	  created_at: "2025-01-11T14:30:22Z"
	//	  updated_at: "2025-01-11T14:32:15Z"
	//	  created_by: "usr-john-doe"
	//	}
	Audit *apiresource.ApiResourceAudit `protobuf:"bytes,99,opt,name=audit,proto3" json:"audit,omitempty"`
	// Current execution lifecycle phase.
	//
	// Phases:
	// - EXECUTION_PENDING: Execution created, waiting to start
	// - EXECUTION_IN_PROGRESS: Actively executing tasks
	// - EXECUTION_COMPLETED: Successfully completed all tasks
	// - EXECUTION_FAILED: Failed during execution (see error field)
	// - EXECUTION_CANCELLED: Cancelled by user or system
	//
	// Phase Transitions:
	// PENDING → IN_PROGRESS → COMPLETED
	//
	//	↓              ↘ FAILED
	//	↓              ↘ CANCELLED
	//
	// The phase is used for:
	// - UI status indicators (progress bars, badges)
	// - Filtering executions (show only failed, show only in-progress)
	// - Alerting and notifications (notify on failure)
	// - Retry logic (retry failed executions)
	//
	// Validation: Must be a defined enum value (no unspecified/unknown).
	Phase ExecutionPhase `protobuf:"varint,1,opt,name=phase,proto3,enum=ai.stigmer.agentic.workflowexecution.v1.ExecutionPhase" json:"phase,omitempty"`
	// Workflow tasks with their execution state (source of truth for progress).
	//
	// Tasks represent the atomic units of work within the workflow.
	// Each task has:
	// - task_id: Unique identifier within this execution
	// - task_name: Human-readable name (e.g., "validate_email", "send_notification")
	// - task_type: Type of task (agent_invocation, api_call, approval, etc.)
	// - status: Current task status (PENDING, IN_PROGRESS, COMPLETED, FAILED, SKIPPED)
	// - input: Task input parameters (JSON structure)
	// - output: Task output results (JSON structure, only for COMPLETED tasks)
	// - error: Error message (only for FAILED tasks)
	// - started_at: When task started executing
	// - completed_at: When task finished (COMPLETED/FAILED/SKIPPED)
	//
	// Tasks are populated as the workflow progresses through its task graph.
	// The order in this list reflects the execution order (sequential or parallel).
	//
	// Progress Calculation:
	// - Total tasks: tasks.length
	// - Completed tasks: count(tasks where status in [COMPLETED, FAILED, SKIPPED])
	// - Progress percentage: (completed_tasks / total_tasks) * 100
	// - Current task: tasks.find(status == IN_PROGRESS)
	//
	// Use Cases:
	// - Display task-level progress in UI (which tasks are done, which are running)
	// - Calculate overall progress (no need to store total_tasks/completed_tasks)
	// - Debug task failures (inspect task inputs, outputs, errors)
	// - Retry individual failed tasks (if workflow supports partial retry)
	// - Audit task execution for compliance
	//
	// Example:
	// tasks: [
	//
	//	{
	//	  task_id: "task-1"
	//	  task_name: "validate_email"
	//	  task_type: WORKFLOW_TASK_API_CALL
	//	  status: WORKFLOW_TASK_COMPLETED
	//	  started_at: "2025-01-11T14:30:23Z"
	//	  completed_at: "2025-01-11T14:30:23.450Z"
	//	  output: { "valid": true, "domain": "example.com" }
	//	}
	//	{
	//	  task_id: "task-2"
	//	  task_name: "create_account"
	//	  task_type: WORKFLOW_TASK_AGENT_INVOCATION
	//	  status: WORKFLOW_TASK_IN_PROGRESS
	//	  started_at: "2025-01-11T14:30:24Z"
	//	}
	//
	// ]
	Tasks []*WorkflowTask `protobuf:"bytes,2,rep,name=tasks,proto3" json:"tasks,omitempty"`
	// Workflow output (JSON structure).
	//
	// Contains the final result or payload produced by the workflow.
	// Only populated when phase == EXECUTION_COMPLETED.
	//
	// The output structure is workflow-specific and defined by the Workflow template.
	// Common patterns:
	// - API response data (e.g., created user ID, order confirmation)
	// - Aggregated results from multiple tasks
	// - Links to generated artifacts (reports, files)
	// - Summary statistics (items processed, duration)
	//
	// Example (customer onboarding workflow):
	//
	//	output: {
	//	  "customer_id": "cus-abc123"
	//	  "account_created": true
	//	  "welcome_email_sent": true
	//	  "trial_activated": true
	//	  "trial_expires_at": "2025-02-10T14:30:22Z"
	//	}
	Output *structpb.Struct `protobuf:"bytes,3,opt,name=output,proto3" json:"output,omitempty"`
	// Error message if execution failed.
	//
	// Contains a human-readable description of what went wrong.
	// Only populated when phase == EXECUTION_FAILED.
	//
	// Error message includes:
	// - What failed (which task or workflow step)
	// - Why it failed (validation error, API error, timeout, etc.)
	// - How to fix it (if known)
	//
	// For detailed debugging, inspect tasks[].error for task-specific error messages.
	//
	// Example:
	// error: "Task 'create_account' failed: API rate limit exceeded (429). Retry after 60 seconds."
	Error string `protobuf:"bytes,4,opt,name=error,proto3" json:"error,omitempty"`
	// ISO 8601 timestamp when execution started.
	//
	// Set when the workflow execution engine begins processing this execution.
	// This is when phase transitions from PENDING to IN_PROGRESS.
	//
	// Format: "YYYY-MM-DDTHH:MM:SSZ" (UTC timezone)
	// Example: "2025-01-11T14:30:22Z"
	//
	// Used for:
	// - Calculating execution duration (completed_at - started_at)
	// - Sorting executions by start time
	// - Detecting stuck executions (started but not completed after X hours)
	StartedAt string `protobuf:"bytes,5,opt,name=started_at,json=startedAt,proto3" json:"started_at,omitempty"`
	// ISO 8601 timestamp when execution completed, failed, or was cancelled.
	//
	// Set when the workflow reaches a terminal state:
	// - EXECUTION_COMPLETED: Successfully finished
	// - EXECUTION_FAILED: Failed during execution
	// - EXECUTION_CANCELLED: Cancelled by user or system
	//
	// Not set for PENDING or IN_PROGRESS executions.
	//
	// Format: "YYYY-MM-DDTHH:MM:SSZ" (UTC timezone)
	// Example: "2025-01-11T14:35:47Z"
	//
	// Used for:
	// - Calculating execution duration (completed_at - started_at)
	// - Retention policies (delete completed executions after 30 days)
	// - SLA monitoring (alert if execution takes longer than expected)
	CompletedAt string `protobuf:"bytes,6,opt,name=completed_at,json=completedAt,proto3" json:"completed_at,omitempty"`
	// Temporal workflow ID (if using Temporal as execution engine).
	//
	// This is the workflow ID in the Temporal workflow engine, used for:
	// - Correlation between Stigmer and Temporal (for debugging)
	// - Querying Temporal directly (for advanced troubleshooting)
	// - Signaling or cancelling Temporal workflows
	//
	// Format: Typically "{workflow_instance_id}-{execution_id}" or a UUID
	// Example: "wfi-prod-deploy-wfx-abc123xyz456" or "temporal-wf-uuid-12345"
	//
	// This field is optional and only relevant when Temporal is used as the execution engine.
	// Other workflow engines (Step Functions, Argo, etc.) may use different correlation IDs.
	TemporalWorkflowId string `protobuf:"bytes,7,opt,name=temporal_workflow_id,json=temporalWorkflowId,proto3" json:"temporal_workflow_id,omitempty"`
	unknownFields      protoimpl.UnknownFields
	sizeCache          protoimpl.SizeCache
}

func (x *WorkflowExecutionStatus) Reset() {
	*x = WorkflowExecutionStatus{}
	mi := &file_ai_stigmer_agentic_workflowexecution_v1_api_proto_msgTypes[1]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *WorkflowExecutionStatus) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*WorkflowExecutionStatus) ProtoMessage() {}

func (x *WorkflowExecutionStatus) ProtoReflect() protoreflect.Message {
	mi := &file_ai_stigmer_agentic_workflowexecution_v1_api_proto_msgTypes[1]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use WorkflowExecutionStatus.ProtoReflect.Descriptor instead.
func (*WorkflowExecutionStatus) Descriptor() ([]byte, []int) {
	return file_ai_stigmer_agentic_workflowexecution_v1_api_proto_rawDescGZIP(), []int{1}
}

func (x *WorkflowExecutionStatus) GetAudit() *apiresource.ApiResourceAudit {
	if x != nil {
		return x.Audit
	}
	return nil
}

func (x *WorkflowExecutionStatus) GetPhase() ExecutionPhase {
	if x != nil {
		return x.Phase
	}
	return ExecutionPhase_EXECUTION_PHASE_UNSPECIFIED
}

func (x *WorkflowExecutionStatus) GetTasks() []*WorkflowTask {
	if x != nil {
		return x.Tasks
	}
	return nil
}

func (x *WorkflowExecutionStatus) GetOutput() *structpb.Struct {
	if x != nil {
		return x.Output
	}
	return nil
}

func (x *WorkflowExecutionStatus) GetError() string {
	if x != nil {
		return x.Error
	}
	return ""
}

func (x *WorkflowExecutionStatus) GetStartedAt() string {
	if x != nil {
		return x.StartedAt
	}
	return ""
}

func (x *WorkflowExecutionStatus) GetCompletedAt() string {
	if x != nil {
		return x.CompletedAt
	}
	return ""
}

func (x *WorkflowExecutionStatus) GetTemporalWorkflowId() string {
	if x != nil {
		return x.TemporalWorkflowId
	}
	return ""
}

// WorkflowTask represents a single task within a workflow execution.
//
// Tasks are the atomic units of work in a workflow. Each task:
// - Has a specific type (agent invocation, API call, approval, conditional, etc.)
// - Receives input parameters from the workflow context or previous tasks
// - Executes its specific logic (invoke an agent, call an API, wait for approval)
// - Produces output that can be used by subsequent tasks
// - Tracks its own execution state (pending, in-progress, completed, failed, skipped)
//
// Task Execution Flow:
// 1. Task is in PENDING state when workflow starts
// 2. When task dependencies are met, task_status changes to IN_PROGRESS
// 3. Task executes its logic (invoke agent, call API, etc.)
// 4. Task completes successfully (COMPLETED) or fails (FAILED) or is skipped (SKIPPED)
//
// Task Types and Examples:
// - WORKFLOW_TASK_AGENT_INVOCATION: Invoke an AI agent with a prompt
// - WORKFLOW_TASK_API_CALL: Call an external API (REST, GraphQL, gRPC)
// - WORKFLOW_TASK_APPROVAL: Wait for human approval before proceeding
// - WORKFLOW_TASK_CONDITIONAL: Evaluate a condition to decide next steps
// - WORKFLOW_TASK_PARALLEL: Execute multiple sub-tasks in parallel
// - WORKFLOW_TASK_TRANSFORM: Transform data between tasks (map, filter, aggregate)
//
// Use Cases:
// - Display task-level progress in UI (task list with checkmarks)
// - Debug workflow failures (which task failed, what was the input/output)
// - Retry individual tasks (if workflow engine supports partial retry)
// - Monitor task performance (which tasks take longest)
type WorkflowTask struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Unique task identifier within this workflow execution.
	//
	// Format: Typically "task-{number}" or a descriptive slug
	// Examples: "task-1", "task-validate-email", "task-send-notification"
	//
	// The task_id is unique within this WorkflowExecution but may repeat across
	// different executions of the same WorkflowInstance (same task, different run).
	TaskId string `protobuf:"bytes,1,opt,name=task_id,json=taskId,proto3" json:"task_id,omitempty"`
	// Human-readable task name.
	//
	// Describes what this task does in plain language.
	// Used in UI to show task progress and in logs for debugging.
	//
	// Examples:
	// - "Validate customer email"
	// - "Create Stripe account"
	// - "Send welcome email"
	// - "Wait for admin approval"
	//
	// Naming conventions:
	// - Use verb phrases (validate, create, send, wait)
	// - Be specific about what's being operated on
	// - Keep it concise (under 50 characters)
	TaskName string `protobuf:"bytes,2,opt,name=task_name,json=taskName,proto3" json:"task_name,omitempty"`
	// Type of task (agent invocation, API call, approval, etc.).
	//
	// Determines how the task is executed by the workflow engine:
	// - WORKFLOW_TASK_AGENT_INVOCATION: Calls an AI agent with a prompt, waits for response
	// - WORKFLOW_TASK_API_CALL: Makes HTTP/gRPC API call to external service
	// - WORKFLOW_TASK_APPROVAL: Pauses workflow, waits for human approval
	// - WORKFLOW_TASK_CONDITIONAL: Evaluates condition, branches to different paths
	// - WORKFLOW_TASK_PARALLEL: Executes multiple sub-tasks concurrently
	// - WORKFLOW_TASK_TRANSFORM: Transforms data using expressions or scripts
	// - WORKFLOW_TASK_CUSTOM: Custom task logic defined by plugins
	//
	// The task_type influences:
	// - How task.input is structured (different types expect different input schemas)
	// - How task.output is produced (different types produce different outputs)
	// - How errors are handled (retry policies, timeout behaviors)
	//
	// Validation: Must be a defined enum value (no unspecified).
	TaskType WorkflowTaskType `protobuf:"varint,3,opt,name=task_type,json=taskType,proto3,enum=ai.stigmer.agentic.workflowexecution.v1.WorkflowTaskType" json:"task_type,omitempty"`
	// Task input parameters (JSON structure).
	//
	// Contains the configuration and data needed for this task to execute.
	// The structure varies by task_type.
	//
	// Examples by task type:
	//
	// WORKFLOW_TASK_AGENT_INVOCATION:
	//
	//	input: {
	//	  "agent_instance_id": "agi-customer-support"
	//	  "prompt": "Analyze customer feedback: {{workflow.input.feedback}}"
	//	  "max_tokens": 500
	//	}
	//
	// WORKFLOW_TASK_API_CALL:
	//
	//	input: {
	//	  "method": "POST"
	//	  "url": "https://api.stripe.com/v1/customers"
	//	  "headers": { "Authorization": "Bearer {{env.STRIPE_API_KEY}}" }
	//	  "body": { "email": "{{workflow.input.email}}" }
	//	}
	//
	// WORKFLOW_TASK_APPROVAL:
	//
	//	input: {
	//	  "approvers": ["usr-admin-1", "usr-admin-2"]
	//	  "message": "Approve account creation for {{workflow.input.email}}?"
	//	  "timeout_hours": 24
	//	}
	//
	// Input can reference:
	// - Workflow inputs: {{workflow.input.field_name}}
	// - Previous task outputs: {{tasks.task-1.output.field_name}}
	// - Environment variables: {{env.VARIABLE_NAME}}
	Input *structpb.Struct `protobuf:"bytes,4,opt,name=input,proto3" json:"input,omitempty"`
	// Task output results (JSON structure).
	//
	// Contains the data produced by this task after successful execution.
	// Only populated when status == WORKFLOW_TASK_COMPLETED.
	//
	// Output can be referenced by subsequent tasks using: {{tasks.this-task-id.output.field_name}}
	//
	// Examples by task type:
	//
	// WORKFLOW_TASK_AGENT_INVOCATION:
	//
	//	output: {
	//	  "agent_execution_id": "agx-abc123"
	//	  "response": "The customer feedback is positive overall..."
	//	  "sentiment": "positive"
	//	  "confidence": 0.92
	//	}
	//
	// WORKFLOW_TASK_API_CALL:
	//
	//	output: {
	//	  "status_code": 200
	//	  "body": {
	//	    "id": "cus_abc123"
	//	    "email": "customer@example.com"
	//	    "created": 1704988800
	//	  }
	//	}
	//
	// WORKFLOW_TASK_APPROVAL:
	//
	//	output: {
	//	  "approved": true
	//	  "approved_by": "usr-admin-1"
	//	  "approved_at": "2025-01-11T15:22:33Z"
	//	  "comment": "Looks good, approved"
	//	}
	Output *structpb.Struct `protobuf:"bytes,5,opt,name=output,proto3" json:"output,omitempty"`
	// Current task execution status.
	//
	// Statuses:
	// - WORKFLOW_TASK_PENDING: Task not yet started (waiting for dependencies)
	// - WORKFLOW_TASK_IN_PROGRESS: Task is currently executing
	// - WORKFLOW_TASK_COMPLETED: Task finished successfully
	// - WORKFLOW_TASK_FAILED: Task failed during execution (see error field)
	// - WORKFLOW_TASK_SKIPPED: Task was skipped (conditional logic, early exit)
	//
	// Status Transitions:
	// PENDING → IN_PROGRESS → COMPLETED
	//
	//	↓              ↘ FAILED
	//	↓              ↘ SKIPPED (if conditional)
	//
	// Validation: Must be a defined enum value (no unspecified).
	Status WorkflowTaskStatus `protobuf:"varint,6,opt,name=status,proto3,enum=ai.stigmer.agentic.workflowexecution.v1.WorkflowTaskStatus" json:"status,omitempty"`
	// ISO 8601 timestamp when task started executing.
	//
	// Set when task status changes from PENDING to IN_PROGRESS.
	//
	// Format: "YYYY-MM-DDTHH:MM:SSZ" (UTC timezone)
	// Example: "2025-01-11T14:30:23Z"
	//
	// Used for:
	// - Calculating task duration (completed_at - started_at)
	// - Detecting stuck tasks (started but not completed after X minutes)
	// - Performance analysis (which tasks are slow)
	StartedAt string `protobuf:"bytes,7,opt,name=started_at,json=startedAt,proto3" json:"started_at,omitempty"`
	// ISO 8601 timestamp when task completed, failed, or was skipped.
	//
	// Set when task reaches a terminal state:
	// - WORKFLOW_TASK_COMPLETED: Successfully finished
	// - WORKFLOW_TASK_FAILED: Failed during execution
	// - WORKFLOW_TASK_SKIPPED: Skipped by conditional logic
	//
	// Not set for PENDING or IN_PROGRESS tasks.
	//
	// Format: "YYYY-MM-DDTHH:MM:SSZ" (UTC timezone)
	// Example: "2025-01-11T14:30:27.450Z"
	//
	// Used for:
	// - Calculating task duration (completed_at - started_at)
	// - SLA monitoring (alert if task takes longer than expected)
	// - Performance benchmarking (average task duration over time)
	CompletedAt string `protobuf:"bytes,8,opt,name=completed_at,json=completedAt,proto3" json:"completed_at,omitempty"`
	// Error message if task failed.
	//
	// Contains a human-readable description of why the task failed.
	// Only populated when status == WORKFLOW_TASK_FAILED.
	//
	// Error message includes:
	// - What operation failed (API call, agent invocation, etc.)
	// - Error type (validation error, network error, timeout, etc.)
	// - Error details (status code, exception message, stacktrace)
	// - How to fix it (if known)
	//
	// Examples:
	// - "API call failed: 429 Too Many Requests. Retry after 60 seconds."
	// - "Agent invocation failed: Agent execution timeout after 300 seconds."
	// - "Approval task failed: Timeout after 24 hours with no approval."
	//
	// For detailed debugging, also check:
	// - task.input (what parameters were used)
	// - task.metadata (retry count, execution context)
	Error string `protobuf:"bytes,9,opt,name=error,proto3" json:"error,omitempty"`
	// Task metadata (arbitrary JSON data).
	//
	// Contains task-specific information that doesn't fit in other fields.
	// Used for:
	// - Retry count (how many times this task was retried)
	// - Agent execution ID (for WORKFLOW_TASK_AGENT_INVOCATION)
	// - API response headers (for WORKFLOW_TASK_API_CALL)
	// - Approval history (who approved, when, comments)
	// - Performance metrics (execution time, memory usage)
	//
	// Examples:
	//
	// Agent invocation task:
	//
	//	metadata: {
	//	  "agent_execution_id": "agx-abc123"
	//	  "retry_count": 0
	//	  "tokens_used": 450
	//	}
	//
	// API call task:
	//
	//	metadata: {
	//	  "retry_count": 2
	//	  "response_headers": {
	//	    "x-ratelimit-remaining": "98"
	//	    "x-request-id": "req-xyz789"
	//	  }
	//	}
	//
	// Approval task:
	//
	//	metadata: {
	//	  "approval_history": [
	//	    { "user": "usr-admin-1", "action": "approved", "timestamp": "2025-01-11T15:22:33Z" }
	//	  ]
	//	}
	Metadata      *structpb.Struct `protobuf:"bytes,10,opt,name=metadata,proto3" json:"metadata,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *WorkflowTask) Reset() {
	*x = WorkflowTask{}
	mi := &file_ai_stigmer_agentic_workflowexecution_v1_api_proto_msgTypes[2]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *WorkflowTask) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*WorkflowTask) ProtoMessage() {}

func (x *WorkflowTask) ProtoReflect() protoreflect.Message {
	mi := &file_ai_stigmer_agentic_workflowexecution_v1_api_proto_msgTypes[2]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use WorkflowTask.ProtoReflect.Descriptor instead.
func (*WorkflowTask) Descriptor() ([]byte, []int) {
	return file_ai_stigmer_agentic_workflowexecution_v1_api_proto_rawDescGZIP(), []int{2}
}

func (x *WorkflowTask) GetTaskId() string {
	if x != nil {
		return x.TaskId
	}
	return ""
}

func (x *WorkflowTask) GetTaskName() string {
	if x != nil {
		return x.TaskName
	}
	return ""
}

func (x *WorkflowTask) GetTaskType() WorkflowTaskType {
	if x != nil {
		return x.TaskType
	}
	return WorkflowTaskType_WORKFLOW_TASK_TYPE_UNSPECIFIED
}

func (x *WorkflowTask) GetInput() *structpb.Struct {
	if x != nil {
		return x.Input
	}
	return nil
}

func (x *WorkflowTask) GetOutput() *structpb.Struct {
	if x != nil {
		return x.Output
	}
	return nil
}

func (x *WorkflowTask) GetStatus() WorkflowTaskStatus {
	if x != nil {
		return x.Status
	}
	return WorkflowTaskStatus_WORKFLOW_TASK_STATUS_UNSPECIFIED
}

func (x *WorkflowTask) GetStartedAt() string {
	if x != nil {
		return x.StartedAt
	}
	return ""
}

func (x *WorkflowTask) GetCompletedAt() string {
	if x != nil {
		return x.CompletedAt
	}
	return ""
}

func (x *WorkflowTask) GetError() string {
	if x != nil {
		return x.Error
	}
	return ""
}

func (x *WorkflowTask) GetMetadata() *structpb.Struct {
	if x != nil {
		return x.Metadata
	}
	return nil
}

var File_ai_stigmer_agentic_workflowexecution_v1_api_proto protoreflect.FileDescriptor

const file_ai_stigmer_agentic_workflowexecution_v1_api_proto_rawDesc = "" +
	"\n" +
	"1ai/stigmer/agentic/workflowexecution/v1/api.proto\x12'ai.stigmer.agentic.workflowexecution.v1\x1a2ai/stigmer/agentic/workflowexecution/v1/enum.proto\x1a2ai/stigmer/agentic/workflowexecution/v1/spec.proto\x1a-ai/stigmer/commons/apiresource/metadata.proto\x1a+ai/stigmer/commons/apiresource/status.proto\x1a\x1bbuf/validate/validate.proto\x1a\x1cgoogle/protobuf/struct.proto\"\xc5\x04\n" +
	"\x11WorkflowExecution\x12=\n" +
	"\vapi_version\x18\x01 \x01(\tB\x1c\xbaH\x19r\x17\n" +
	"\x15agentic.stigmer.ai/v1R\n" +
	"apiVersion\x12,\n" +
	"\x04kind\x18\x02 \x01(\tB\x18\xbaH\x15r\x13\n" +
	"\x11WorkflowExecutionR\x04kind\x12\x94\x02\n" +
	"\bmetadata\x18\x03 \x01(\v23.ai.stigmer.commons.apiresource.ApiResourceMetadataB\xc2\x01\xbaH\xbe\x01\xba\x01\xb7\x01\n" +
	"3workflow_execution.owner_scope.org_or_identity_only\x12PWorkflowExecution resources can only have organization or identity_account scope\x1a.this.owner_scope == 2 || this.owner_scope == 3\xc8\x01\x01R\bmetadata\x12R\n" +
	"\x04spec\x18\x04 \x01(\v2>.ai.stigmer.agentic.workflowexecution.v1.WorkflowExecutionSpecR\x04spec\x12X\n" +
	"\x06status\x18\x05 \x01(\v2@.ai.stigmer.agentic.workflowexecution.v1.WorkflowExecutionStatusR\x06status\"\xc2\x03\n" +
	"\x17WorkflowExecutionStatus\x12F\n" +
	"\x05audit\x18c \x01(\v20.ai.stigmer.commons.apiresource.ApiResourceAuditR\x05audit\x12W\n" +
	"\x05phase\x18\x01 \x01(\x0e27.ai.stigmer.agentic.workflowexecution.v1.ExecutionPhaseB\b\xbaH\x05\x82\x01\x02\x10\x01R\x05phase\x12K\n" +
	"\x05tasks\x18\x02 \x03(\v25.ai.stigmer.agentic.workflowexecution.v1.WorkflowTaskR\x05tasks\x12/\n" +
	"\x06output\x18\x03 \x01(\v2\x17.google.protobuf.StructR\x06output\x12\x14\n" +
	"\x05error\x18\x04 \x01(\tR\x05error\x12\x1d\n" +
	"\n" +
	"started_at\x18\x05 \x01(\tR\tstartedAt\x12!\n" +
	"\fcompleted_at\x18\x06 \x01(\tR\vcompletedAt\x120\n" +
	"\x14temporal_workflow_id\x18\a \x01(\tR\x12temporalWorkflowId\"\xf2\x03\n" +
	"\fWorkflowTask\x12\x17\n" +
	"\atask_id\x18\x01 \x01(\tR\x06taskId\x12\x1b\n" +
	"\ttask_name\x18\x02 \x01(\tR\btaskName\x12`\n" +
	"\ttask_type\x18\x03 \x01(\x0e29.ai.stigmer.agentic.workflowexecution.v1.WorkflowTaskTypeB\b\xbaH\x05\x82\x01\x02\x10\x01R\btaskType\x12-\n" +
	"\x05input\x18\x04 \x01(\v2\x17.google.protobuf.StructR\x05input\x12/\n" +
	"\x06output\x18\x05 \x01(\v2\x17.google.protobuf.StructR\x06output\x12]\n" +
	"\x06status\x18\x06 \x01(\x0e2;.ai.stigmer.agentic.workflowexecution.v1.WorkflowTaskStatusB\b\xbaH\x05\x82\x01\x02\x10\x01R\x06status\x12\x1d\n" +
	"\n" +
	"started_at\x18\a \x01(\tR\tstartedAt\x12!\n" +
	"\fcompleted_at\x18\b \x01(\tR\vcompletedAt\x12\x14\n" +
	"\x05error\x18\t \x01(\tR\x05error\x123\n" +
	"\bmetadata\x18\n" +
	" \x01(\v2\x17.google.protobuf.StructR\bmetadataB\xde\x02\n" +
	"+com.ai.stigmer.agentic.workflowexecution.v1B\bApiProtoP\x01Zdgithub.com/stigmer/stigmer/apis/stubs/go/ai/stigmer/agentic/workflowexecution/v1;workflowexecutionv1\xa2\x02\x04ASAW\xaa\x02'Ai.Stigmer.Agentic.Workflowexecution.V1\xca\x02'Ai\\Stigmer\\Agentic\\Workflowexecution\\V1\xe2\x023Ai\\Stigmer\\Agentic\\Workflowexecution\\V1\\GPBMetadata\xea\x02+Ai::Stigmer::Agentic::Workflowexecution::V1b\x06proto3"

var (
	file_ai_stigmer_agentic_workflowexecution_v1_api_proto_rawDescOnce sync.Once
	file_ai_stigmer_agentic_workflowexecution_v1_api_proto_rawDescData []byte
)

func file_ai_stigmer_agentic_workflowexecution_v1_api_proto_rawDescGZIP() []byte {
	file_ai_stigmer_agentic_workflowexecution_v1_api_proto_rawDescOnce.Do(func() {
		file_ai_stigmer_agentic_workflowexecution_v1_api_proto_rawDescData = protoimpl.X.CompressGZIP(unsafe.Slice(unsafe.StringData(file_ai_stigmer_agentic_workflowexecution_v1_api_proto_rawDesc), len(file_ai_stigmer_agentic_workflowexecution_v1_api_proto_rawDesc)))
	})
	return file_ai_stigmer_agentic_workflowexecution_v1_api_proto_rawDescData
}

var file_ai_stigmer_agentic_workflowexecution_v1_api_proto_msgTypes = make([]protoimpl.MessageInfo, 3)
var file_ai_stigmer_agentic_workflowexecution_v1_api_proto_goTypes = []any{
	(*WorkflowExecution)(nil),               // 0: ai.stigmer.agentic.workflowexecution.v1.WorkflowExecution
	(*WorkflowExecutionStatus)(nil),         // 1: ai.stigmer.agentic.workflowexecution.v1.WorkflowExecutionStatus
	(*WorkflowTask)(nil),                    // 2: ai.stigmer.agentic.workflowexecution.v1.WorkflowTask
	(*apiresource.ApiResourceMetadata)(nil), // 3: ai.stigmer.commons.apiresource.ApiResourceMetadata
	(*WorkflowExecutionSpec)(nil),           // 4: ai.stigmer.agentic.workflowexecution.v1.WorkflowExecutionSpec
	(*apiresource.ApiResourceAudit)(nil),    // 5: ai.stigmer.commons.apiresource.ApiResourceAudit
	(ExecutionPhase)(0),                     // 6: ai.stigmer.agentic.workflowexecution.v1.ExecutionPhase
	(*structpb.Struct)(nil),                 // 7: google.protobuf.Struct
	(WorkflowTaskType)(0),                   // 8: ai.stigmer.agentic.workflowexecution.v1.WorkflowTaskType
	(WorkflowTaskStatus)(0),                 // 9: ai.stigmer.agentic.workflowexecution.v1.WorkflowTaskStatus
}
var file_ai_stigmer_agentic_workflowexecution_v1_api_proto_depIdxs = []int32{
	3,  // 0: ai.stigmer.agentic.workflowexecution.v1.WorkflowExecution.metadata:type_name -> ai.stigmer.commons.apiresource.ApiResourceMetadata
	4,  // 1: ai.stigmer.agentic.workflowexecution.v1.WorkflowExecution.spec:type_name -> ai.stigmer.agentic.workflowexecution.v1.WorkflowExecutionSpec
	1,  // 2: ai.stigmer.agentic.workflowexecution.v1.WorkflowExecution.status:type_name -> ai.stigmer.agentic.workflowexecution.v1.WorkflowExecutionStatus
	5,  // 3: ai.stigmer.agentic.workflowexecution.v1.WorkflowExecutionStatus.audit:type_name -> ai.stigmer.commons.apiresource.ApiResourceAudit
	6,  // 4: ai.stigmer.agentic.workflowexecution.v1.WorkflowExecutionStatus.phase:type_name -> ai.stigmer.agentic.workflowexecution.v1.ExecutionPhase
	2,  // 5: ai.stigmer.agentic.workflowexecution.v1.WorkflowExecutionStatus.tasks:type_name -> ai.stigmer.agentic.workflowexecution.v1.WorkflowTask
	7,  // 6: ai.stigmer.agentic.workflowexecution.v1.WorkflowExecutionStatus.output:type_name -> google.protobuf.Struct
	8,  // 7: ai.stigmer.agentic.workflowexecution.v1.WorkflowTask.task_type:type_name -> ai.stigmer.agentic.workflowexecution.v1.WorkflowTaskType
	7,  // 8: ai.stigmer.agentic.workflowexecution.v1.WorkflowTask.input:type_name -> google.protobuf.Struct
	7,  // 9: ai.stigmer.agentic.workflowexecution.v1.WorkflowTask.output:type_name -> google.protobuf.Struct
	9,  // 10: ai.stigmer.agentic.workflowexecution.v1.WorkflowTask.status:type_name -> ai.stigmer.agentic.workflowexecution.v1.WorkflowTaskStatus
	7,  // 11: ai.stigmer.agentic.workflowexecution.v1.WorkflowTask.metadata:type_name -> google.protobuf.Struct
	12, // [12:12] is the sub-list for method output_type
	12, // [12:12] is the sub-list for method input_type
	12, // [12:12] is the sub-list for extension type_name
	12, // [12:12] is the sub-list for extension extendee
	0,  // [0:12] is the sub-list for field type_name
}

func init() { file_ai_stigmer_agentic_workflowexecution_v1_api_proto_init() }
func file_ai_stigmer_agentic_workflowexecution_v1_api_proto_init() {
	if File_ai_stigmer_agentic_workflowexecution_v1_api_proto != nil {
		return
	}
	file_ai_stigmer_agentic_workflowexecution_v1_enum_proto_init()
	file_ai_stigmer_agentic_workflowexecution_v1_spec_proto_init()
	type x struct{}
	out := protoimpl.TypeBuilder{
		File: protoimpl.DescBuilder{
			GoPackagePath: reflect.TypeOf(x{}).PkgPath(),
			RawDescriptor: unsafe.Slice(unsafe.StringData(file_ai_stigmer_agentic_workflowexecution_v1_api_proto_rawDesc), len(file_ai_stigmer_agentic_workflowexecution_v1_api_proto_rawDesc)),
			NumEnums:      0,
			NumMessages:   3,
			NumExtensions: 0,
			NumServices:   0,
		},
		GoTypes:           file_ai_stigmer_agentic_workflowexecution_v1_api_proto_goTypes,
		DependencyIndexes: file_ai_stigmer_agentic_workflowexecution_v1_api_proto_depIdxs,
		MessageInfos:      file_ai_stigmer_agentic_workflowexecution_v1_api_proto_msgTypes,
	}.Build()
	File_ai_stigmer_agentic_workflowexecution_v1_api_proto = out.File
	file_ai_stigmer_agentic_workflowexecution_v1_api_proto_goTypes = nil
	file_ai_stigmer_agentic_workflowexecution_v1_api_proto_depIdxs = nil
}
