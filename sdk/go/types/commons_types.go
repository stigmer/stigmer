// Code generated by stigmer-codegen. DO NOT EDIT.
// Source: commons_types.go
// Generated: 2026-01-24T06:39:06+05:30

package types

import (
	"google.golang.org/protobuf/types/known/structpb"
)

// Generic reference to any API resource by scope, org, and name.
//
//	Used across resources to reference other resources (e.g., Environment, Agent, etc.)
type ApiResourceReference struct {
	// Owner scope of the referenced resource
	Scope string `json:"scope,omitempty"`
	// Organization ID (required if scope = organization)
	Org  string `json:"org,omitempty"`
	Kind string `json:"kind,omitempty"`
	// Resource slug (user-friendly name, not ID)
	Slug string `json:"slug,omitempty"`
}

// FromProto converts google.protobuf.Struct to ApiResourceReference.
func (c *ApiResourceReference) FromProto(s *structpb.Struct) error {
	fields := s.GetFields()

	if val, ok := fields["scope"]; ok {
		c.Scope = val.GetStringValue()
	}

	if val, ok := fields["org"]; ok {
		c.Org = val.GetStringValue()
	}

	if val, ok := fields["kind"]; ok {
		c.Kind = val.GetStringValue()
	}

	if val, ok := fields["slug"]; ok {
		c.Slug = val.GetStringValue()
	}

	return nil
}
